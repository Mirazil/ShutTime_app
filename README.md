# ShutTime

**ShutTime 1.0** ‚Äî —ç—Ç–æ Windows-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ C# / .NET –¥–ª—è –ø–ª–∞–Ω–æ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ç–∞–Ω–∏–µ–º: –≤—ã–∫–ª—é—á–µ–Ω–∏–µ, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞, –ø–µ—Ä–µ–≤–æ–¥ –≤ —Å–æ–Ω –∏–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—á–µ–π —Å—Ç–∞–Ω—Ü–∏–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚è±Ô∏è **–ì–∏–±–∫–∏–π —Ç–∞–π–º–µ—Ä –¥–µ–π—Å—Ç–≤–∏–π**
  - –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª;
  - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è;
  - —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –ø–µ—Ä–∏–æ–¥–∞ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `GetLastInputInfo`).
- üñ•Ô∏è **–ù–∞–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π**: –≤—ã–∫–ª—é—á–µ–Ω–∏–µ (`shutdown /s`), –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ (`shutdown /r`), —Å–æ–Ω (`Application.SetSuspendState`) –∏–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (`LockWorkStation`).
- üõ†Ô∏è **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ –≥–ª–∞–≤–Ω–æ–≥–æ –æ–∫–Ω–∞: —è–∑—ã–∫, —Ç–µ–º–∞, –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫, –∑–∞–ø—É—Å–∫ –≤ —Å–≤–µ—Ä–Ω—É—Ç–æ–º –≤–∏–¥–µ –∏ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏.
- ü™ü **–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç—Ä–µ–π** –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∏ –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ –∏–∫–æ–Ω–∫–µ.
- üåê **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** –º–µ–∂–¥—É —Ä—É—Å—Å–∫–∏–º, –∞–Ω–≥–ª–∏–π—Å–∫–∏–º –∏ —É–∫—Ä–∞–∏–Ω—Å–∫–∏–º —è–∑—ã–∫–∞–º–∏.
- üé® **–¢–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è**: —Å–≤–µ—Ç–ª–∞—è, —Ç—ë–º–Ω–∞—è –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω–∞—è (—á–∏—Ç–∞–µ—Ç—Å—è –∫–ª—é—á `AppsUseLightTheme`).
- üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫** –≤ `%AppData%\ShutTime\config.json` c –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `System.Text.Json` –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.
- üöÄ **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫** —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª —Ä–µ–µ—Å—Ç—Ä–∞ `HKCU\Software\Microsoft\Windows\CurrentVersion\Run` (—Å–º. `AutoStartHelper`).

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Windows 10/11 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Win32 API.
- [.NET 9.0 Windows Desktop Runtime](https://dotnet.microsoft.com/en-us/download) (SDK –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤).

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```bash
dotnet restore

dotnet build

dotnet run
```
–ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ `ShutTime_app/`. –°–æ–±—Ä–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `bin/Debug/net9.0-windows/`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `Program.cs` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ `MainForm`.
- `MainForm.cs` –∏ `MainForm.Designer.cs` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–∫–ª–∞–¥–∫–∞–º–∏ —Ç–∞–π–º–µ—Ä–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫, –ª–æ–≥–∏–∫–∞ —Ç—Ä–µ—è –∏ —Ä–∞–±–æ—Ç—ã —Ç–∞–π–º–µ—Ä–∞.
- `AppConfig.cs` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —è–∑—ã–∫–æ–≤ –∏ —Ç–µ–º.
- `Localization.cs` ‚Äî —Å–ª–æ–≤–∞—Ä–∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ `ThemeHelper` –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã.
- `AutoStartHelper.cs` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º —á–µ—Ä–µ–∑ —Ä–µ–µ—Å—Ç—Ä.
- `SettingsForm*.cs` ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫, –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –Ω–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏.
- `Resources/` ‚Äî –∏–∫–æ–Ω–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ç–µ–º—ã
–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —è–∑—ã–∫:
1. –î–æ–ø–æ–ª–Ω–∏—Ç–µ `AppLanguage` –≤ `AppConfig.cs`.
2. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–æ–≤–∞—Ä—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ `Localization.cs`.
3. –û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –≤ `MainForm.PopulateSettingsLists()` –∏ `SettingsForm.ApplyLocalization()` (–µ—Å–ª–∏ –æ–∫–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è).
4. –°–¥–µ–ª–∞–π—Ç–µ pull request.

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ–ø—Ä–∞–≤—å—Ç–µ –ø–∞–ª–∏—Ç—Ä—É –≤ `ThemeHelper.Apply()` –≤–Ω—É—Ç—Ä–∏ `Localization.cs`.

## –•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ ¬´–û–ö¬ª –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ `%AppData%\ShutTime\config.json`. –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏; –æ—à–∏–±–∫–∏ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

## –õ–∏—Ü–µ–Ω–∑–∏—è
–õ–∏—Ü–µ–Ω–∑–∏—è –Ω–µ —É–∫–∞–∑–∞–Ω–∞. –î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ñ–∞–π–ª, –µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ.
